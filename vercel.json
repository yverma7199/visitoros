{
  "version": 2,
  "functions": {
    "api/**/*.js": {
      "memory": 256,
      "maxDuration": 30
    }
  },
  "rewrites": [
    { "source": "/people",           "destination": "/api/people.js" },
    { "source": "/submit-visitor",   "destination": "/api/submit-visitor.js" },
    { "source": "/approve/:id",      "destination": "/api/approve.js?visitorId=:id" },
    { "source": "/reject/:id",       "destination": "/api/reject.js?visitorId=:id" },
    { "source": "/pass/:id",         "destination": "/api/pass.js?visitorId=:id" },
    { "source": "/scan",             "destination": "/api/scan.js" },
    { "source": "/whatsapp/webhook", "destination": "/api/webhook.js" },
    { "source": "/admin",            "destination": "/api/admin.js" },
    { "source": "/admin-data",       "destination": "/api/admin-data.js" },
    { "source": "/debug-wa",         "destination": "/api/debug-wa.js" }
  ]
}
